\chapter{Prerequisites}

\label{Chapter2}

\fancyhead[LO, RE]{Part I. \emph{Introductions}}
\chead{Chapter 2. \emph{Prerequisites}} 

%----------------------------------------------------------------------------------------
In this chapter we come with a summary of the necessary prerequisites for the systems at hand. This includes the free fermion gas, second quantization, Landau theory of phase transitions, the Kitaev model, the notion of superfluidity and the weakly interacting Bose-Einstein condensate. Further the notation of the thesis is in large introduced here, and I refer to the relevant section in this chapter, if any confusion should arise. If one is familiar with the concepts introduced here, they can be skipped. 

\section{Free fermion gas in one dimension} \label{sec.chemicalpotential.freegas}
We consider a free gas of $N_F$ \textit{identical} fermions on a wire of length $\mathcal{L}$ with an associated chemical potential $\mu_0$. The statistical mechanics are governed by the Fermi-Dirac distribution:
\begin{equation}
f(E_{F0,k}) = \frac{1}{\text{e}^{\beta(E_{F0,k}-\mu_0)} + 1},
\end{equation}
with $\beta = 1/k_BT$ the inverse temperature, $E_{F0,k} = \frac{k^2}{2m_F}$ the energy of the free fermions, $k$ the momentum, and $m_F$ the mass. As usual we let the Fermi energy be the chemical potential at zero temperature: $\epsilon_{F,0} = \mu_0(T=0)$.\footnote{The 0 index is to indicate that the parameters are for the \textit{free} gas.} We further impose periodic boundary conditions on the wire. Since the wave functions are proportional to $\text{e}^{ikx}$ for the free gas, this gives us the condition $\text{e}^{ik\mathcal{L}} = \text{e}^{ik\cdot 0} = 1$, and so $k = n\frac{2\pi}{\mathcal{L}}$ for integers $n$. Hence, we have a specific quantization of the $k$'s. We define the Fermi momentum $k_F$ through: $\epsilon_{F,0} = \frac{k_F^2}{2m_F}$. Because of the Pauli exclusion principle and from the fact that the fermions are identical, two fermions cannot be in the same energetic state. This means that the number of fermions, $N_F$, can be expressed as:
\begin{equation}
N_F = \sum_{|k|< k_F} = \frac{\mathcal{L}}{2\pi} \int_{-k_F}^{k_F} dk = \frac{\mathcal{L}}{\pi} k_F \Rightarrow k_F = \pi n_F, 
\label{eq.relationkfnf}
\end{equation}
where $n_F = \frac{N_F}{\mathcal{L}}$ is the density of the fermions. We do not put a 0 subscript on $n_F$, since we consider the length and the number of fermions as fixed. Hence, $n_F$ is an externally fixed variable. The chemical potential for temperatures $T>0$ is determined from the number equation: $N_F = \sum_k f(E_{F0,k})$, since $f(E_{F0,k})$ is the mean occupancy of the $k$'th state. Transforming this into an energy integral yields:
\begin{equation}
N_F = \int_0^\infty dE \; \frac{\mathcal{L}}{\pi}\sqrt{\frac{m}{2E}} f(E). 
\label{eq.numberequationfreegas}
\end{equation}
From here we can also see that the density of states is:
\begin{equation}
D_0(E) = \left\{\begin{matrix}
 \frac{\mathcal{L}}{\pi}\sqrt{\frac{m}{2E}}, & E > 0,  \\ 
 0, & \text{otherwise}. 
\end{matrix}\right. 
\label{eq.densityofstatesfreegas}
\end{equation}
The above number equation gives the chemical potential for all temperatures. It is worthwhile to study the behaviour for low temperatures analytically though. This is quite simple using the Sommerfeld expansion. We let the Fermi temperature be defined by $\epsilon_{F,0} = k_B T_F$. The Sommerfeld expansion for the chemical potential leads to the differential equation for $T/T_F \ll 1$ \cite[pp. 115-116]{GiuseppeGiuseppe}:
\begin{equation}
\frac{d\mu_0}{dT} = -\frac{\pi^2}{3}k_B^2 T \frac{D_0'(\mu_0)}{D_0(\mu_0)}. \nonumber
\end{equation}
It turns out that since the density of states is proportional to $E^{-1/2}$, the equation for $\mu_0$ can be solved by separation of variables. The result for $T/T_F\ll 1$ is:
\begin{equation}
\frac{\mu_0(T)}{\epsilon_{F,0}} = 1 + \frac{\pi^2}{12}\left(\frac{T}{T_F}\right)^2. 
\label{eq.Sommerfeldexpansionchemicalpotential}
\end{equation}
Hence, we see that the chemical potential of the free gas is quadratically \textit{increasing} for $T/T_F \ll 1$. This is in contrast to the case in both two and three dimension, where the chemical potential \textit{decreases} monotonically. For $T/T_F \gg 1$ the chemical potential must asymptotically go to the chemical potential for the classical gas. This means that it must go to minus infinity for $T\to \infty$ \cite[pp. 117-118]{SchroederThermal}. In turn the chemical potential has a maximal value for some temperature. A numerical calculation of equation \eqref{eq.numberequationfreegas} shows that this maximum is around the Fermi temperature $T_F$. 

\section{Units}
In this section I will specify what unit energies, momenta, distances, densities etc. will be in. This is especially important for the numerical analyses we will perform later on. Any physical process of the fermions considered is expected only to affect the fermions near the Fermi energy $\epsilon_{F,0}$. This is essentially a consequence of the assumption that the other relevant energies we consider are small with respect to the Fermi energy. For this reason we express energies in terms of the Fermi energy for the free gas: $\epsilon_{F,0}$. We further let $\hbar = 1$. This means that momenta $p$ and wave numbers $k$ have the same unit. We express temperatures in units of $T_F$, momenta in units of $k_F$ and distances in units of $1/k_F$ or $1/n_F$, the interparticle distance of the free fermion gas. The density of the three dimensional Bose-Einstein condensate will hereby be in units of $n_F^3$ and all masses in units of $m_F$. In some circumstances variables will have a tilde to express that it is unitless. For example: $\tilde{k} = k/k_F$.

\section{Second quantization} \label{sec.secondquantization}
In this section I will introduce the second quantization formalism.\footnote{Any spin degrees of freedom are suppressed. This is consistent with the systems we will study.} This is an essential tool for the analyses, we will perform. It is largely based on \cite[pp. 221-227]{LandauQM}. We define field operators $\psi(\mathbf{r})$ and $\psi^\dagger(\mathbf{r})$ that respectively annihilates and creates a particle at position $\mathbf{r}$. We then need a recipe of how to formulate operators in second quantized form. Let us take the kinetic energy as an example. The kinetic energy operator in real space is $T = p^2/2m = -\nabla^2/2m$, where $m$ is the mass of the particle. This is a single particle operator in the sense that it only operates on a single coordinate, $\mathbf{r}$. This means that the kinetic energy operator in second quantization is:
\begin{equation}
\hat{T} = \int d^3 r \; \psi^\dagger(\mathbf{r}) T(\mathbf{r})\psi(\mathbf{r}). \nonumber   
\end{equation} 
If the field operators had been wave functions, we see that the above corresponds to the mean value $\braket{T}$. In this sense one can make the following recipe for going from first to second quantization. Write up the mean value for the operator and then change the wave functions to fields operators. Then the mean value goes to the second quantized operator. For this to be an applicable approach the matrix elements of $\hat{T}$ must be the same as the matrix elements of $T$. The matrix elements in position space are: $\bra{0}\psi(\mathbf{r}) \hat{T} \psi^\dagger(\mathbf{r}')\ket{0}$, where $\ket{0}$ is the vacuum: the state with no particles present. For fermions we enforce the anticommutator: $\{\psi(\mathbf{r}), \psi^\dagger(\mathbf{r}')\} = \delta(\mathbf{r}-\mathbf{r}')$, for bosons the commutator: $[\psi(\mathbf{r}), \psi^\dagger(\mathbf{r}')] = \delta(\mathbf{r}-\mathbf{r}')$. In either case we get the matrix elements $T(\mathbf{r})\delta(\mathbf{r}-\mathbf{r}')$ which is the exact matrix elements of $T$ in the position basis. 

This looks a tad involved. We claim however that we can recover a lot of intuition from classical mechanics in second quantization. This is especially clear, when we describe the operators in their eigenspace. Therefore let $\psi(\mathbf{r}) = \sum_{\mathbf{p}} \text{e}^{i\mathbf{p}\cdot \mathbf{r}} a_\mathbf{p}$, where $a_\mathbf{p}$ annihilates a particle of momentum $\mathbf{p}$. A simple calculation shows that:
\begin{equation}
\hat{T} = \sum_\mathbf{p} \frac{p^2}{2m} a^\dagger_\mathbf{p}a_\mathbf{p}.
\end{equation}
The operator $N_\mathbf{p} = a^\dagger_\mathbf{p}a_\mathbf{p}$ counts the number of particles with momentum $\mathbf{p}$. Hence, the momentum operator in second quantization consists of summing up the momentum contribution $\frac{p^2}{2m}$ from each momentum state. This is intuitively simple. Similarly, one can argue that a two particle operator in second quantization, such as the pair interactions we will study, should be written in the form:
\begin{equation}
\hat{U}^{(2)} = \frac{1}{2}\int d^3 r d^3 r' \; \psi^\dagger(\mathbf{r}) \psi^\dagger(\mathbf{r}') U^{(2)}(\mathbf{r},\mathbf{r}')\psi(\mathbf{r}')\psi(\mathbf{r}). 
\label{eq.InteractionHamiltonain2ndQuantization} 
\end{equation}
The factor of $\frac{1}{2}$ is to account for double counting. It is thus only precent for identical particles. 

\section{Landau theory of phase transitions}
\label{sec.landauphasetransitions}
In this section we shortly review the Landau theory of phase transitions. This is based on \cite[pp. 86-88]{PlischkeStatPhys} and is an example of a mean field theory for systems that undergo a phase transition at some critical temperature, $T_c$. The basic assumption in Landau's theory is that the phase transition can be understood in terms of the so-called order parameter, $m$, which is in general a complex number and small near the critical temperature. It is therefore reasonable to expand the free energy density $\psi(m, T)$ in powers of $m$. We assume that $\psi$ is even in $m$ and further only depends on the size, $|m|$, of $m$. In this manner the expansion to fourth order in $m$ is:
\begin{equation}
\psi(m, T) = a(T) + \frac{b(T)}{2}|m|^2 + \frac{c(T)}{4}|m|^4, 
\label{eq.freeenergydensity.mexpansion}
\end{equation}
with $a, b$ and $c$ coefficients depending on the temperature only. Now let us suppose that (only) $b(T)$ changes sign at $T_c$. To lowest order in $T - T_c$, we have $b(T) = b_0 (T - T_c)$, $b_0 > 0$. The energetically preferred state at a specific temperature $T$ is the $m$ such that $\psi(m, T)$ is minimal. For $T > T_c$ this occures for $m = 0$. However, as soon as $T < T_c$, $m = 0$ is a local maximum. Solving $\frac{\partial \psi}{\partial |m|} = 0$ shows for $T < T_c$ shows that there is a full circle of energetically favourable solutions $m = |m| \text{e}^{i\phi}$, with $|m| = \sqrt{\frac{b_0}{c(T_c)}}\sqrt{T_c-T}$. This shows quite generally that the order parameter must go $\propto \sqrt{T_c - T}$ close the transition within mean field theory.  

Since there is a full circle of energetically favourable solutions, a specific phase $\phi$ must be chosen even though the energy does not depend on it. This phenomenon is known as spontaneous symmetry breaking \cite[pp. 72-74]{BruusFlensberg}. 

\section{Kitaev Model}
\label{sec.KitaevModel}
The systems we look at will all be some realisation of the Kitaev model. Let us therefore briefly review its fundamental properties. The system consists of identical fermions on a wire of length $\mathcal{L}$. The Hamiltonian in momentum space is: 
\begin{equation}
H_{FF} = \frac{1}{2}\sum_{k} C^\dagger_k \mathcal{H}_{FF,k} C_k, \hspace{0.5cm} \mathcal{H}_{FF,k} = \begin{bmatrix} \varepsilon_k & \Delta_k \\ \Delta^*_k & -\varepsilon_k \end{bmatrix}, \hspace{0.5cm} C_k = \begin{bmatrix} c_k \\ c^\dagger_{-k} \end{bmatrix}. 
\label{eq.HKitaevpre}
\end{equation}
Here $c_k$ and $c_k^\dagger$ respectively annihilates and creates a fermion ($F$) on the wire with momentum $k$.\footnote{The subscript $F$ is to distinguish the parameters here from the analogous ones for the boson gas which will be introduced in the following section. The double subscript $F$ on $H$ and $\mathcal{H}$ is to specify that it contains fermion-fermion terms only.} $C_k$ is a so-called Nambu spinor, since it contains both a creation and annihilation operator. To investigate the bulk properties of the wire, we will use periodic boundary conditions, and so the momenta are quantized in the same way as for the free gas: $k = n\frac{2\pi}{\mathcal{L}}$. The Hamiltonian kernel $\mathcal{H}_{FF,k}$ contains two independent quantities: $\varepsilon_k$ and $\Delta_k$. We will see that $\varepsilon_k$ is the kinetic energy of the fermions measured relative to the chemical potential. For the homogenous 1D gas: $\varepsilon_k = k^2/2m_F - \mu$. $\Delta_k$ is the so-called $p$-wave pairing amplitude in momentum space, and is generally complex. The Hamiltonian is diagonalized by diagonalizing the $2\times 2$ kernel $\mathcal{H}_{FF,k}$ for each $k$. This is done by a standard Bogoliubov transform: 
\begin{equation}
 \begin{bmatrix} c_k \\ c_{-k}^\dagger \end{bmatrix} = U_{F,k} \begin{bmatrix} \gamma_k \\ \gamma^\dagger_{-k} \end{bmatrix}, \hspace{0.5cm} U_{F,k} = \begin{bmatrix} u^*_{F,k} & -v_{F,k} \\ v^*_{F,k} & u_{F,k} \end{bmatrix}. 
 \label{eq.fermionquasiparticledef}
\end{equation}
The operators on the right are new fermionic annihilation and creation operators. This means that they have to obey the standard anticommutation relations for fermionic operators: $\{\gamma_k,\gamma_{k'}^\dagger \} = \delta_{k,k'}$ with all other anticommutators 0. By checking these explicitly it is easy to see that $\det(U_{F,k}) = |u_{F,k}|^2+|v_{F,k}|^2 = 1$ must hold, leaving $U_{F,k}$ as a $SU(2)$ transformation of the original operators. Since the elements of $C_k$ are not independent, we get that $u_{F,k}$ is even in $k$ and $v_{F,k}$ odd. Further, they are determined from the demand that for each $k$, $U^\dagger_{F,k} \mathcal{H}_{FF,k}U_{F,k}$ must be diagonal. This eventually leads to two solutions for both $v_{F,k}$ and $u_{F,k}$. Finally using the minimal energy principle, we must choose the solution that yields the minimal energy for the ground state: $\gamma_k\ket{g.s} = 0$. This leaves us with the following solution. The Hamiltonian is now diagonal in the $\gamma$-operators: 
\begin{equation}
H_{FF} = \frac{1}{2}\sum_k \left[\varepsilon_k-E_{F,k}\right] + \sum_k E_{F,k} \gamma^\dagger_k \gamma_k, \hspace{0.5cm} E_{F,k} = \sqrt{\varepsilon_k^2 + |\Delta_k|^2}
\label{eq.Kitaev.H_diagonalpre}
\end{equation}
And the solutions for $u_{F,k}$ and $v_{F,k}$ are: 
\begin{equation}
|u_{F,k}|^2 = \frac{1}{2}\left(1 + \frac{\varepsilon_k}{E_{F,k}}\right), \hspace{0.5cm} |v_{F,k}|^2 = \frac{1}{2}\left(1-\frac{\varepsilon_k}{E_{F,k}}\right), \hspace{0.5cm} \frac{v_{F,k}\Delta^*_k}{u_{F,k}}=E_{F,k}-\varepsilon_k.
\label{eq.Kitaev.uk_vk}
\end{equation}
The latter expression is given, because it is an often used relation between $u_{F,k}$ and $v_{F,k}$. 

\section{Bose-Einstein condensate}
In this section we introduce a microscopic theory for the three dimensional uniform Bose-Einstein condensate (BEC). It is largely based on \cite[chapter 8]{Pethick}. Further we calculate the condensate Green's functions. 

\subsection{Bogoliubov theory for the uniform BEC}
\label{sec.BEC}
We consider $N_B$ identical bosons in a volume $\mathcal{V}$. The Hamiltonian describing the uniform BEC is given by the following expansion in real space: 
\begin{equation}
H_{BB} = \int d^3 r \left(\psi_B^\dagger(\mathbf{r})\left[-\frac{\nabla^2}{2m_B}\right]\psi_B(\mathbf{r}) + \frac{g_B}{2}\psi_B^\dagger(\mathbf{r})\psi_B^\dagger(\mathbf{r})\psi_B(\mathbf{r})\psi_B(\mathbf{r})  \right). 
\label{eq.BECHamiltonianrealspace}
\end{equation}
The second part stems from a pair interaction between the bosons ($B$) given by $g_B\delta(\mathbf{r})$.\footnote{$BB$ as subscript on $H$: boson-boson interaction.} $m_B$ is the mass of the bosons. We expand this in free particle states: $\psi_B(\mathbf{r}) = \frac{1}{\sqrt{\mathcal{V}}}\sum_\mathbf{k} \text{e}^{i\mathbf{k}\cdot\mathbf{r}}b_\mathbf{k}$, where $b_\mathbf{k}, b^\dagger_\mathbf{k}$ are the annihilation and creation operators for bosons in the gas with momentum $\mathbf{k}$. $\mathcal{V}$ is the volume of the gas. Inserting into the Hamiltonian $H_{BB}$ we obtain: 
\begin{equation}
H_{BB} = \sum_\mathbf{k} \frac{k^2}{2m_B}b_\mathbf{k}^\dagger b_\mathbf{k} + \frac{g_B}{2\mathcal{V}}\sum_{\mathbf{k}_1,\mathbf{k}_2,\mathbf{q}} b^\dagger_{\mathbf{k}_1+\mathbf{q}}b^\dagger_{\mathbf{k}_2-\mathbf{q}}b_{\mathbf{k}_1}b_{\mathbf{k}_2}. 
\label{eq.BECHamiltonianmomentumspace} 
\end{equation}
The Bogoliubov approximation consists in writing $\psi_B = \sqrt{n_B} + \delta \psi_B$, with $n_B = N_B/\mathcal{V}$ the density of the condensate being a large number. Thus we have perturbatively separated the field operator in a large condensate term, $\sqrt{n_B}$, and a small fluctuating excited term, $\delta \psi_B(\mathbf{r}) =  \frac{1}{\sqrt{\mathcal{V}}}\sum_{\mathbf{k}\neq \mathbf{0}} \text{e}^{i\mathbf{k}\cdot\mathbf{r}}b_\mathbf{k}$. Assuming a small number of excited bosons, we neglect terms with more than two $b$-operators with $\mathbf{k}$ nonzero. This along with other simple algebraic manipulations lead us to the form:\footnote{More details can be found in chapter 8 in \cite{Pethick}.} 
\begin{equation}
H_{BB} = \frac{N^2g_B}{2\mathcal{V}} + \sum_{\mathbf{k}\neq \mathbf{0}}\left[\left(\frac{k^2}{2m_B}+n_Bg_B\right)b_\mathbf{k}^\dagger b_\mathbf{k} + \frac{n_Bg_B}{2}\left( b_\mathbf{k}^\dagger b_{-\mathbf{k}}^\dagger + b_{\mathbf{k}} b_{-\mathbf{k}} \right) \right].
\label{eq.bosonHamiltonian}
\end{equation}
This Hamiltonian can be diagonalized by a canonical Bogoliubov transformation:
\begin{equation}
\begin{bmatrix} b_\mathbf{k} \\ b^\dagger_{-\mathbf{k}} \end{bmatrix} = U_{B,k} \begin{bmatrix} \beta_\mathbf{k} \\ \beta^\dagger_{-\mathbf{k}}\end{bmatrix}, \hspace{0.5cm} U_{B,k} = \begin{bmatrix} u_{B,k} & -v_{B,k} \\ -v_{B,k} & u_{B,k} \end{bmatrix}. 
\end{equation}
Demanding that the $\beta_\mathbf{k}$-operators are bosonic as well leads to $\det(U_{B,k}) = u_{B,k}^2-v_{B,k}^2 = 1$. The analogy with the fermion case in the preceding section should now be clear. Mind the sign differences in $U_{B,k}$ and $U_{F,k}$ stemming fundamentally from requiring specific \textit{commutator} relations here, not \textit{anti}commutator relations as before. A diagonalization procedure analogous to the fermion case leads to: 
\begin{equation}
H_{BB} = \sum_\mathbf{k} E_{B,k} \beta_\mathbf{k}^\dagger \beta_\mathbf{k}. 
\end{equation}
Here the ground state energy is neglected. The Bogoliubov spectrum is $E_{B,k}^2 = \xi_{B,k}^2-(n_Bg_B)^2$ with $\xi_{B,k} = \frac{k^2}{2m_B}+n_Bg_B$ the kinetic energy shifted by the mean field interaction $n_Bg_B$. Finally the condensate coherence factors $u_{B,k}$ and $v_{B,k}$ are found to be: 
\begin{equation}
u_{B,k}^2 = \frac{1}{2}\left(\frac{\xi_{B,k}}{ E_{B,k}}+1 \right), \hspace{0.5cm} v_{B,k}^2 = \frac{1}{2}\left(\frac{\xi_{B,k}}{ E_{B,k}}-1 \right).
\end{equation}
An essential assumption in the above is that $\sqrt{n_B}$ is large with respect to the fluctuation part $\delta\psi_B$. Hence, we need the number of excited bosons to be small: $N_{B,\text{exc}}/ N_B \ll 1$. We write the number operator as: $\hat{N}_B = \hat{N}_0 + \sum_{\mathbf{k}\neq \mathbf{0}} b^\dagger_{\mathbf{k}}b_{\mathbf{k}}$. For $T = 0$, we have the defining relation for the ground state: $\beta_{\mathbf{k}}\ket{\text{BEC}}_0 = 0$. This enables us to calculate the mean number of particles:
\begin{equation}
N_B =\;_{0}\!\bra{\text{BEC}} \hat{N}_B \ket{\text{BEC}}_0 = N_0 + \sum_{\mathbf{k}\neq \mathbf{0}} v^2_{B,k}.\nonumber
\end{equation} 
Hence, $N_{B,\text{exc}} = \sum_{\mathbf{k}\neq \mathbf{0}} v^2_{B,k}$ is the number of excited bosons for $T = 0$. Transforming the sum to an integral and calculating the fraction $N_{B,\text{exc}}/N_B$ yields:
\begin{equation}
\frac{N_{B,\text{exc}}}{N_B} = \frac{8}{3\sqrt{\pi}}(n_Ba_B^3)^{1/2},
\label{eq.excitedbosonsBEC}
\end{equation}
with $a_B$ the scattering length in the condensate given by: $g_B = \frac{4\pi a_B}{m_B}$. Thus we see that to have a selfconsistent assumption about a small number of excited bosons, we need to assume that $(n_Ba_B^3)^{1/3}\ll 1$. We call $(n_Ba_B^3)^{1/3}$ the Bose gas parameter. 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Imaginary time Green's functions for the BEC}
\label{sec.BECGreens}
Later we will be interested in the induced interaction between the fermions mediated by the bosons in the condensate. The approach for calculating the induced interaction is perturbative in the interaction strength between the bosons and the fermions. A powerful tool to handle such a perturbative calculation is the imaginary time formalism. It constitutes a way to treat perturbations for nonzero temperatures. The cornerstone of the approach is to use the imaginary time Green's functions. For the condensate these are given by:
\begin{align}
\feynmandiagram [inline=(a.base), horizontal=a to b] 
{
a --  [blue, fermion, edge label' = {\(\mathbf{k} \)}] b,
}; &= G_{11}(\mathbf{k},\tau) = -\bra{\text{BEC}} T_{\tau}\left[b_\mathbf{k}(\tau)b_\mathbf{k}^\dagger(0)\right]\ket{\text{BEC}},  \nonumber \\
\feynmandiagram [inline=(a.base), horizontal=a to b] 
{
a --  [blue, anti majorana, edge label' = {\(\mathbf{k} \)}] b,
}; &= G_{12}(\mathbf{k},\tau) = -\bra{\text{BEC}} T_{\tau}\left[b_\mathbf{k}(\tau)b_{-\mathbf{k}}(0)\right]\ket{\text{BEC}},  \nonumber \\
\feynmandiagram [inline=(a.base), horizontal=a to b] 
{
a --  [blue, majorana, edge label' = {\(\mathbf{k} \)}] b,
}; &=G_{21}(\mathbf{k},\tau) = -\bra{\text{BEC}} T_{\tau}\left[b^\dagger_\mathbf{k}(\tau)b_{-\mathbf{k}}^\dagger(0)\right]\ket{\text{BEC}},  
\label{eq.defBECGreens}
\end{align}
Here $T_{\tau}[A(\tau)B(0)] = \theta(\tau)A(\tau)B(0) + \theta(-\tau)B(0)A(\tau)$, is the time ordering operator and $\theta(\tau)$ is the Heaviside step function. The ground state of the condensate for $T = 0$ is defined by the equation: $\beta_\mathbf{k}\ket{\text{BEC}}_0 = 0$. For $T > 0$ the probability of being in one of the excited states is given by the Bose-Einstein distribution $b(E_{B,\mathbf{k}})$. $G_{11}$ is called the normal Green's function, whilst $G_{12}$ and $G_{21}$ are the anomalous Green's functions. This is because $G_{11}$ is number conserving, the others are not. The form of the Green's functions means that we use the diagrammatic rules shown to the left in the above.

Let us do the calculation for $G_{11}$ explicitly to see how the imaginary time formalism works. In this formalism the imaginary time Heisenberg operators are $A(\tau) = \text{e}^{+\tau H_{BB}}A(0)\text{e}^{-\tau H_{BB}}$ and $A^\dagger(\tau) = \text{e}^{+\tau H_{BB}}A^\dagger(0)\text{e}^{-\tau H_{BB}}$ \cite[p. 185]{BruusFlensberg}. It is then easy to show that $\beta_\mathbf{k}(\tau) = \beta_\mathbf{k}\text{e}^{-\tau E_{B,k}}$ and $\beta^\dagger_\mathbf{k}(\tau) = \beta^\dagger_\mathbf{k}\text{e}^{\tau E_{B,k}}$. For $\tau > 0$, $T_{\tau}[b_\mathbf{k}(\tau)b_\mathbf{k}^\dagger(0)] = b_\mathbf{k}(\tau)b_\mathbf{k}^\dagger(0)$. Rewriting the $b$-operators in terms of Bogoliubov $\beta_\mathbf{k}$-operators we then get:\footnote{Here I am afraid the notation is a little hazardous. $\beta$ is the inverse temperature $1/k_BT$. $\beta_\mathbf{k}$ is the annihilation operator for the Bogoliubov excitations of the condensate.}
\begin{align}
G_{11}(\mathbf{k},\tau) &= -\bra{\text{BEC}} b_\mathbf{k}(\tau)b_\mathbf{k}^\dagger(0)\ket{\text{BEC}} \nonumber \\
&= -\bra{\text{BEC}} \left(u_{B,k}\beta_\mathbf{k}\text{e}^{-\tau E_{B,k}} - v_{B,k} \beta^\dagger_{-\mathbf{k}}\text{e}^{\tau E_{B,k}} \right)\left( -v_{B,k}\beta_{-\mathbf{k}} + u_{B,k} \beta^\dagger_{\mathbf{k}} \right)\ket{\text{BEC}} \nonumber \\
&\overset{(1)}{=} -\bra{\text{BEC}} \left( u_{B,k}^2\beta_\mathbf{k}\beta^\dagger_\mathbf{k}\text{e}^{-\tau E_{B,k}} + v_{B,k}^2 \beta^\dagger_{-\mathbf{k}}\beta_{-\mathbf{k}}\text{e}^{\tau E_{B,k}} \right) \ket{\text{BEC}} \nonumber \\
&\overset{(2)}{=} -\left(u_{B,k}^2 \text{e}^{-\tau E_{B,k}}(b(E_{B,k})+1)+ v_{B,k}^2\text{e}^{\tau E_{B,k}}b(E_{B,k})\right). \nonumber
\end{align}
In (1) we use that $\bra{\text{BEC}}\beta_\mathbf{k}\beta_{-\mathbf{k}}\ket{\text{BEC}} = 0$, since $\ket{\text{BEC}}$ is diagonal in the $\beta_k$-operators and since we are removing two of these quasiparticles from the state to the right.\footnote{Remember that $\beta_\mathbf{k}\ket{\text{BEC}} \neq 0$ for nonzero temperatures.} The condensate is in thermal (nondiffusive) equilibrium at some nonzero temperature $T$, and the $\beta_\mathbf{k}$-quasiparticles are bosonic excitations of the condensate. This means that $\bra{\text{BEC}}\beta_\mathbf{k}^\dagger\beta_{\mathbf{k}}\ket{\text{BEC}} = b(E_{B,k}) = \frac{1}{\text{e}^{\beta E_{B,k}}-1}$, the Bose-Einstein distribution, with $\beta = \frac{1}{k_BT}$. This is used in (2) along with the commutator for the $\beta_\mathbf{k}$-operators. This allows us to calculate the desired Matsubara Green's function $G_{11}(\mathbf{k},i\omega_m)$, where $\omega_m = 2\pi m/\beta$ is a bosonic Matsubara frequency. The function is calculated by Fourier transforming $G_{11}(\mathbf{k},\tau)$ \cite[p. 187-189]{BruusFlensberg}: 
\begin{equation}
G_{11}(\mathbf{k},i\omega_m) = \int_0^\beta d\tau \; G_{11}(\mathbf{k},\tau) \text{e}^{i\omega_m\tau} = \frac{u_{B,k}^2}{i\omega_m-E_{B,k}}-\frac{v_{B,k}^2}{i\omega_m+E_{B,k}}. 
\end{equation}
$G_{12}$ and $G_{21}$ are calculated in the same way. The result is: 
\begin{equation}
G_{21}(\mathbf{k},i\omega_m) = G_{12}(\mathbf{k},i\omega_m) = \frac{u_{B,k}v_{B,k}}{i\omega_m+E_{B,k}}-\frac{u_{B,k}v_{B,k}}{i\omega_m-E_{B,k}}. 
\end{equation}
We thus have the required Green's functions in place. 
